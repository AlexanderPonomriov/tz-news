
(function($){$(document).ready(function(){var adItem=$('.types-ad-item'),listCity=$('.list-city'),openCity=false,defaultCity='Выберите город',cityName;function toggleListCity(target){if(openCity===false)
{$(target).addClass('active');$('.select-city .list-city').addClass('open');$('.types-ad-item').removeClass('active');return openCity=true}
else{$('.selecter, .types-ad-item').removeClass('active');$('.select-city .list-city').removeClass('open');return openCity=false}}
$(".list-city-row li").on('click',function(){if($(this).attr('id')==='removeCity'){$(".selecter").text(defaultCity);}else{cityName=$(this).text();$(".selecter").text(cityName);}
toggleListCity(this);var city=$(this).attr("city");if($(this).attr("city")){$('.types-ad-item').hide();$('.types-ad-item [city="'+city+'"]').parents(".types-ad-item").show().attr("city",city);}else{$('.types-ad-item').show();$('.types-ad-item').attr("city",'');}
return openCity=false});adItem.on('click',function(e){if($(this).attr("city")){location=$(this).find('[city="'+$(this).attr("city")+'"] a').attr("href");return false;}
if($(this).hasClass("active")){$("section > .list-city, .types-ad-wrap > .list-city").remove();$('.types-ad-item').removeClass('active');return false;}
$('.selecter, .types-ad-item').removeClass('active');$('.select-city .list-city').removeClass('open');$("section > .list-city, .types-ad-wrap > .list-city").remove();$(this).addClass('active');var listCity1=$(this).find(".list-city").clone().attr("style",'');if(screen.width<=630){if($(this).index()===1||$(this).index()===0){$(this).parent().children($('.types-ad-item')).eq(1).after(listCity1);}
else{$(this).parent().after(listCity1);}}
else{$(this).parent().after(listCity1);}});$(document).click(function(e){if($(e.target).closest(".types-ad-item, .selecter, .list-city").length)return;$("section > .list-city, .select-city .list-city").removeClass("open");$(".types-ad-item, .selecter").removeClass('active');e.stopPropagation();});$('.selecter').on('click',function(){openCity=false;toggleListCity(this);$("section > .list-city, .types-ad-wrap > .list-city").remove();});});})(jQuery);